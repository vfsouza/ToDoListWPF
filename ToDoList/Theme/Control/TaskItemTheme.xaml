<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:localClrs="clr-namespace:ToDoList.Controls">
	<ResourceDictionary.MergedDictionaries>
		<ResourceDictionary Source="/Controls/Themes/ImageButton.xaml" />
	</ResourceDictionary.MergedDictionaries>
	<Style TargetType="{x:Type ListViewItem}"
		   x:Key="TaskItem">
		<Style.Triggers>
			<Trigger Property="IsMouseOver"
					 Value="True">
				<Setter Property="Background"
						Value="#20EEEEEE" />
			</Trigger>
		</Style.Triggers>

		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type ListViewItem}">
					<Grid VerticalAlignment="Stretch"
						  HorizontalAlignment="Stretch"
						  Margin="0,0,0,10">
						<Grid.ColumnDefinitions>
							<ColumnDefinition />
							<ColumnDefinition Width="Auto" />
						</Grid.ColumnDefinitions>
						<Border Grid.Column="0"
								Background="{DynamicResource DefaultSecondaryControlColor}"
								Height="50">
							<DockPanel VerticalAlignment="Center"
									   LastChildFill="False">
								<Label Content="{Binding Title}"
									   FontSize="20"
									   DockPanel.Dock="Left" />
								<Label Content="{Binding DueDate}"
									   DockPanel.Dock="Right" />
							</DockPanel>
						</Border>
						<ContentControl Grid.Column="1"
										Style="{DynamicResource InsetShadow}">
							<ContentControl.Triggers>
								<EventTrigger RoutedEvent="Mouse.MouseEnter">
									<BeginStoryboard>
										<Storyboard>
											<DoubleAnimation Storyboard.TargetName="TaskToolsPanel"
															 Storyboard.TargetProperty="Width"
															 From="0"
															 To="100"
															 Duration="0:0:0.2" />
										</Storyboard>
									</BeginStoryboard>
								</EventTrigger>
								<EventTrigger RoutedEvent="Mouse.MouseLeave">
									<BeginStoryboard>
										<Storyboard>
											<DoubleAnimation Storyboard.TargetName="TaskToolsPanel"
															 Storyboard.TargetProperty="Width"
															 From="100"
															 To="0"
															 Duration="0:0:0.2" />
										</Storyboard>
									</BeginStoryboard>
								</EventTrigger>
							</ContentControl.Triggers>
							<StackPanel Orientation="Horizontal"
										Background="Transparent">
								<StackPanel Orientation="Horizontal"
											Background="Transparent"
											Width="0"
											x:Name="TaskToolsPanel">
									<DockPanel LastChildFill="False"
											   Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=StackPanel}}">
										<localClrs:ImageButton Image="/Images/Icons/delete.png"
															   HoverImage="/Images/Icons/confirmdelete.png"
															   Height="50"
															   Width="24"
															   DockPanel.Dock="Right"
															   Margin="0,0,14,0">
											<localClrs:ImageButton.InputBindings>
												<MouseBinding MouseAction="{x:Static MouseAction.LeftClick}"
															  Command="{Binding RelativeSource={RelativeSource AncestorType=ListView}, Path=DataContext.NavigateToEditToDoTaskView}"
															  CommandParameter="{Binding}" />
											</localClrs:ImageButton.InputBindings>
										</localClrs:ImageButton>
										<localClrs:ImageButton Image="/Images/Icons/edit.png"
															   HoverImage="/Images/Icons/editwhite.png"
															   Height="50"
															   Width="22"
															   DockPanel.Dock="Right"
															   Margin="0,0,14,0">
											<localClrs:ImageButton.InputBindings>
												<MouseBinding MouseAction="{x:Static MouseAction.LeftClick}"
															  Command="{Binding RelativeSource={RelativeSource AncestorType=ListView}, Path=DataContext.NavigateToEditToDoTaskView}"
															  CommandParameter="{Binding}" />
											</localClrs:ImageButton.InputBindings>
										</localClrs:ImageButton>
									</DockPanel>
								</StackPanel>
								<Rectangle Fill="{DynamicResource DefaultEditControlColor}"
										   Width="12" />
							</StackPanel>
						</ContentControl>
					</Grid>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>